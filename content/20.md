# 有效的括号
## 背景知识
其实，主要是栈和队列。

堆（Heap）和栈（Stack）是计算机科学中两种常见的内存管理方式，它们在程序运行过程中扮演着重要的角色。
### 栈（Stack）
栈是一种后进先出（Last In First Out, LIFO）的数据结构。在程序运行时，栈用来存储局部变量、函数调用等信息。每当一个函数被调用时，其局部变量以及返回地址等信息会被压入栈中；当函数执行完毕返回时，这些信息会被弹出栈。栈的这种特性使得它非常适合用来管理函数调用。
栈的特点：
- **管理方式**：由操作系统自动分配释放。
- **存储内容**：主要存储函数的参数值、局部变量等。
- **大小限制**：通常容量比较小。
- **生长方向**：向内存地址减小的方向生长。
- **效率**：存取效率高，仅次于寄存器。
### 堆（Heap）
堆是一种内存管理方式，它提供了一种动态分配内存的方法，允许程序在运行时动态地申请和释放内存。堆的大小并不固定，可以根据程序的需要动态变化。
堆的特点：
- **管理方式**：由程序员控制，需要手动申请和释放。
- **存储内容**：主要用来存储程序运行中动态分配的内存，如C语言中的malloc、C++中的new申请的内存。
- **大小限制**：一般比较大，可以达到GB级别。
- **生长方向**：向内存地址增加的方向生长。
- **效率**：相对栈来说，存取效率较低。
### 对比
- **生命周期**：栈的生命周期较短，通常随着函数的调用和返回而创建和销毁；堆的生命周期较长，由程序员控制。
- **分配方式**：栈的分配由编译器自动进行，堆的分配由程序员手动控制。
- **用途**：栈主要用于函数调用和局部变量的存储，堆主要用于动态内存分配。
### 应用场景
- 栈：函数调用、局部变量、递归等。
- 堆：动态数据结构（如链表、树、图等）、大量数据的存储、内存池等。
在程序设计中，合理使用堆和栈可以提高程序的效率，避免内存泄漏等问题。

## 问题
给定一个只包括 '('，')'，'{'，'}'，'['，']' 的字符串 s ，判断字符串是否有效。

有效字符串需满足：

左括号必须用相同类型的右括号闭合。
左括号必须以正确的顺序闭合。
每个右括号都有一个对应的相同类型的左括号。


示例 1：
```
输入：s = "()"
输出：true
```
示例 2：
```
输入：s = "()[]{}"
输出：true
```
示例 3：
```
输入：s = "(]"
输出：false
```
## 解答
要判断一个字符串是否为有效的括号字符串，可以使用栈的数据结构来实现。遍历字符串中的每一个字符，对于每一个左括号，将其对应的右括号压入栈中；对于每一个右括号，检查栈顶元素是否与之匹配，如果匹配则弹出栈顶元素，否则字符串无效。在遍历结束后，如果栈为空，则字符串有效，否则字符串无效。
以下是具体的实现步骤：
1. 创建一个空栈。
2. 遍历字符串中的每一个字符。
3. 对于左括号，将其对应的右括号压入栈中。
4. 对于右括号，检查栈顶元素是否与之匹配，如果匹配则弹出栈顶元素，否则返回 `false`。
5. 遍历结束后，如果栈为空，返回 `true`，否则返回 `false`。
现在，我将为你编写相应的代码。
```python
def is_valid(s: str) -> bool:
    # 使用字典存储括号映射
    bracket_map = {')': '(', '}': '{', ']': '['}
    # 创建一个栈
    stack = []

    # 遍历字符串中的每一个字符
    for char in s:
        # 如果是左括号，则将其对应的右括号压入栈中
        if char in bracket_map.values():
            stack.append(char)
        # 如果是右括号，检查栈顶元素是否与之匹配
        elif char in bracket_map.keys():
            if stack == [] or stack[-1] != bracket_map[char]:
                return False
            stack.pop()

    # 如果栈为空，则字符串有效
    return stack == []
# 测试示例
test_cases = ["()", "()[]{}", "(]"]
results = [is_valid(tc) for tc in test_cases]
results
[True, True, False]
```
代码的输出结果与示例一致：
- 对于输入 `s = "()"`，输出是 `True`。
- 对于输入 `s = "()[]{}"`，输出是 `True`。
- 对于输入 `s = "(]"`，输出是 `False`。
这个算法可以有效地判断一个字符串是否为有效的括号字符串。

